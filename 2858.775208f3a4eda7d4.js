"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2858],{2858:(D,c,a)=>{a.r(c),a.d(c,{AddRequestPage:()=>f});var d=a(5861),e=a(95),n=a(1509),m=a(6814),u=a(6689),h=a(6958),p=a(1434),g=a(7626);function A(r,s){1&r&&(u.TgZ(0,"ion-item"),u._UZ(1,"ion-input",18),u.qZA())}let f=(()=>{var r;class s{constructor(t,l,o,i){this.formBuilder=t,this.router=l,this.helper=o,this.supabase=i,this.createForm()}sendSosRequest(){var t=this;return(0,d.Z)(function*(){yield t.helper.startLoad();const l=t.requestForm.value;l.status=1,yield t.supabase.saveData("request_status",l).then(o=>{var i;if(console.log(o.status),201===o.status)return console.log(o),t.helper.dismissLoader(),t.helper.presentToast("\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),void t.router.navigate([`/add-images/${null===(i=o.data)||void 0===i?void 0:i[0].id}/request_status`]);t.helper.dismissLoader(),t.helper.presentAlert("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645")}).catch(o=>{t.helper.dismissLoader(),t.helper.presentAlert(`\u062e\u0637\u0627 \u0641\u064a:  ${o}`),console.error("ee: ",o)})})()}createForm(){this.requestForm=this.formBuilder.group({mobile:new e.NI(null,[e.kI.required,e.kI.minLength(9),e.kI.maxLength(14)]),name:new e.NI(null,[e.kI.required,e.kI.min(12)]),description:new e.NI(null,[e.kI.required,e.kI.min(12)]),account_number:new e.NI(null,[e.kI.min(5)]),rel_with_account_owner:new e.NI(null,[e.kI.min(5)]),account_owner:new e.NI(null,[e.kI.min(5)])})}ngOnInit(){this.relationshipWithAccountHolder=!1}handleTypeChange(t){let l=t.target.value;var o;"1"===l?(this.relationshipWithAccountHolder=!1,null===(o=this.requestForm.get("rel_with_account_owner"))||void 0===o||o.setValue("\u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628",{onlySelf:!0})):"2"===l&&(this.relationshipWithAccountHolder=!0)}}return(r=s).\u0275fac=function(t){return new(t||r)(u.Y36(e.qu),u.Y36(h.F0),u.Y36(p.W),u.Y36(g.T))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-add-request"]],standalone:!0,features:[u.jDz],decls:29,vars:5,consts:[[3,"translucent"],["color","primary"],[1,"ion-text-center"],["slot","end"],["color","light","defaultHref","/lost-found"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],["label","\u0627\u0644\u0627\u0633\u0645","labelPlacement","floating","formControlName","name","name","name","placeholder","\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0627\u0644\u0627\u0633\u0645"],["label","\u0648\u0635\u0641 \u0627\u0644\u062d\u0627\u0644\u0629","labelPlacement","floating","formControlName","description","name","description","placeholder","(\u0627\u0634\u0631\u062d \u062d\u0627\u0644\u062a\u0643 \u0628\u0646\u0641\u0633 \u0627\u0644\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062a\u064a \u0633\u064a\u062a\u0645 \u0627\u0644\u0627\u0639\u0644\u0627\u0646 \u0639\u0646\u0647\u0627)"],["label","\u0628\u0646\u0643\u0643","labelPlacement","floating","formControlName","account_number","name","account_number","placeholder","\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628"],["label","\u0627\u0633\u0645 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628","labelPlacement","floating","formControlName","account_owner","name","account_owner","placeholder",""],["placeholder","\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u062a\u0648\u0636\u064a\u062d","label","\u0647\u0644 \u0627\u0646\u062a \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628",3,"ionChange"],["value","1"],["value","2"],[4,"ngIf"],["label","\u0627\u0644\u0647\u0627\u062a\u0641","labelPlacement","floating","formControlName","mobile","name","mobile","placeholder","\u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0644\u0644\u0627\u062a\u0635\u0627\u0644"],["expand","block","type","submit",3,"disabled"],["name","checkmark"],["label","\u0627\u0644\u0639\u0644\u0627\u0642\u0629 \u0645\u0639 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628","labelPlacement","floating","formControlName","rel_with_account_owner","name","rel_with_account_owner","value"," ","placeholder","\u0627\u0630\u0627 \u0644\u0645 \u062a\u0643\u0646 \u0627\u0646\u062a"]],template:function(t,l){1&t&&(u.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),u._UZ(2,"ion-title",2),u.TgZ(3,"ion-buttons",3),u._UZ(4,"ion-back-button",4),u.qZA()()(),u.TgZ(5,"ion-content",5)(6,"form",6),u.NdJ("ngSubmit",function(){return l.sendSosRequest()}),u.TgZ(7,"ion-list")(8,"ion-item-group")(9,"ion-item"),u._UZ(10,"ion-input",7),u.qZA(),u.TgZ(11,"ion-item"),u._UZ(12,"ion-textarea",8),u.qZA(),u.TgZ(13,"ion-item"),u._UZ(14,"ion-input",9),u.qZA(),u.TgZ(15,"ion-item"),u._UZ(16,"ion-input",10),u.qZA(),u.TgZ(17,"ion-item")(18,"ion-select",11),u.NdJ("ionChange",function(i){return l.handleTypeChange(i)}),u.TgZ(19,"ion-select-option",12),u._uU(20,"\u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628"),u.qZA(),u.TgZ(21,"ion-select-option",13),u._uU(22,"\u0644\u0633\u062a \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628"),u.qZA()()(),u.YNc(23,A,2,0,"ion-item",14),u.TgZ(24,"ion-item"),u._UZ(25,"ion-input",15),u.qZA(),u.TgZ(26,"ion-button",16),u._UZ(27,"ion-icon",17),u._uU(28," \u062d\u0641\u0638 "),u.qZA()()()()()),2&t&&(u.Q6J("translucent",!0),u.xp6(5),u.Q6J("fullscreen",!0),u.xp6(1),u.Q6J("formGroup",l.requestForm),u.xp6(17),u.Q6J("ngIf",l.relationshipWithAccountHolder),u.xp6(3),u.Q6J("disabled",!l.requestForm.valid))},dependencies:[n.Pc,n.oU,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Ub,n.q_,n.t9,n.n0,n.g2,n.wd,n.sr,n.QI,n.j9,n.cs,e.UX,e._Y,e.JJ,e.JL,e.sg,e.u,m.ez,m.O5]}),s})()}}]);