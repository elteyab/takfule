"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8746],{8746:(b,_,r)=>{r.r(_),r.d(_,{AddBenefactorPage:()=>P});var c=r(5861),f=r(6814),t=r(95),a=r(1509),e=r(6689),p=r(6958),g=r(1434),h=r(7626);function A(l,m){1&l&&(e.TgZ(0,"p"),e._uU(1,"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u064a \u0646\u062a\u064a\u062c\u0629"),e.qZA())}function v(l,m){if(1&l&&(e.TgZ(0,"ion-item"),e.YNc(1,A,2,0,"p",10),e._UZ(2,"ion-input",13),e.qZA()),2&l){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===i.statusResult),e.xp6(1),e.s9C("value",i.statusResult.name)}}let P=(()=>{var l;class m{constructor(u,n,s,o){this.formBuilder=u,this.router=n,this.helper=s,this.supabase=o,this.statusResult=!1,this.createForm()}ngOnInit(){}createForm(){this.requestForm=this.formBuilder.group({name:new t.NI(null,[t.kI.required,t.kI.min(12)]),status_number:new t.NI(null,[t.kI.min(6),t.kI.required]),amount:new t.NI(null,[t.kI.min(5),t.kI.required]),status_name:new t.NI(null,[t.kI.min(5),t.kI.required])})}saveForm(){var u=this;return(0,c.Z)(function*(){yield u.helper.startLoad();const n=u.requestForm.value;n.status=1,yield u.supabase.saveData("benefactor",n).then(s=>{var o;if(console.log(s.status),201===s.status)return console.log(s),u.helper.dismissLoader(),u.helper.presentToast("\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),void u.router.navigate([`/add-images/${null===(o=s.data)||void 0===o?void 0:o[0].id}/benefactor`]);u.helper.dismissLoader(),u.helper.presentAlert("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645")}).catch(s=>{u.helper.dismissLoader(),u.helper.presentAlert(`\u062e\u0637\u0627 \u0641\u064a:  ${s}`),console.error("ee: ",s)})})()}searchById(){var u=this;return(0,c.Z)(function*(){var n;yield u.helper.startLoad();const s=null===(n=u.requestForm.get("status_number"))||void 0===n?void 0:n.value;console.log(s),u.supabase.getDataById("request_status",s).then(o=>{var d;u.helper.dismissLoader(),200===o.status?(u.statusResult=o.data,null===(d=u.requestForm.get("status_name"))||void 0===d||d.setValue(u.statusResult.name)):u.statusResult=!1,console.log(o.data)}).catch(o=>{u.helper.dismissLoader(),u.helper.presentToast(`error: ${o}`)})})()}}return(l=m).\u0275fac=function(u){return new(u||l)(e.Y36(t.qu),e.Y36(p.F0),e.Y36(g.W),e.Y36(h.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-benefactor"]],standalone:!0,features:[e.jDz],decls:19,vars:5,consts:[[3,"translucent"],["color","primary"],[1,"ion-text-center"],["slot","end"],["color","light","defaultHref","/lost-found"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],["label","\u0627\u0644\u0627\u0633\u0645","labelPlacement","floating","formControlName","name","name","name","placeholder","\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0627\u0644\u0627\u0633\u0645"],["label","\u0627\u0644\u0645\u0628\u0644\u063a","labelPlacement","floating","formControlName","amount","name","amount","placeholder","\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0628\u0631\u0639"],["label","\u0631\u0642\u0645 \u0627\u0644\u062d\u0627\u0644\u0629","labelPlacement","floating","formControlName","status_number","name","status_number","placeholder","\u0631\u0642\u0645 \u0627\u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u062a\u0628\u0631\u0639 \u0644\u0647",3,"ionChange"],[4,"ngIf"],["expand","block","type","submit",3,"disabled"],["name","checkmark"],["label","\u0627\u0633\u0645 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0627\u0644\u0629","labelPlacement","floating","formControlName","status_name","name","status_name","placeholder","\u0627\u0643\u062a\u0628 \u0627\u0633\u0645 \u0627\u0644\u0634\u062e\u0635 \u0627\u0644\u0645\u062a\u0628\u0631\u0639 \u0644\u0647",3,"value"]],template:function(u,n){1&u&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e._UZ(2,"ion-title",2),e.TgZ(3,"ion-buttons",3),e._UZ(4,"ion-back-button",4),e.qZA()()(),e.TgZ(5,"ion-content",5)(6,"form",6),e.NdJ("ngSubmit",function(){return n.saveForm()}),e.TgZ(7,"ion-list")(8,"ion-item-group")(9,"ion-item"),e._UZ(10,"ion-input",7),e.qZA(),e.TgZ(11,"ion-item"),e._UZ(12,"ion-input",8),e.qZA(),e.TgZ(13,"ion-item")(14,"ion-input",9),e.NdJ("ionChange",function(){return n.searchById()}),e.qZA()(),e.YNc(15,v,3,2,"ion-item",10),e.TgZ(16,"ion-button",11),e._UZ(17,"ion-icon",12),e._uU(18," \u062d\u0641\u0638 "),e.qZA()()()()()),2&u&&(e.Q6J("translucent",!0),e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("formGroup",n.requestForm),e.xp6(9),e.Q6J("ngIf",n.statusResult),e.xp6(1),e.Q6J("disabled",!n.requestForm.valid))},dependencies:[a.Pc,a.oU,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.pK,a.Ie,a.Ub,a.q_,a.wd,a.sr,a.j9,a.cs,f.ez,f.O5,t.u5,t._Y,t.JJ,t.JL,t.UX,t.sg,t.u]}),m})()}}]);