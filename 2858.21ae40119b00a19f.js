"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2858],{2858:(b,c,a)=>{a.r(c),a.d(c,{AddRequestPage:()=>f});var h=a(5861),e=a(95),m=a(6958),n=a(1509),_=a(6814),u=a(6689),g=a(1434),p=a(7626);function A(r,s){1&r&&(u.TgZ(0,"ion-item"),u._UZ(1,"ion-input",19),u.qZA())}let f=(()=>{var r;class s{constructor(o,t,l,i){this.formBuilder=o,this.router=t,this.helper=l,this.supabase=i,this.createForm()}sendSosRequest(){var o=this;return(0,h.Z)(function*(){yield o.helper.startLoad();const t=o.requestForm.value;t.status=1,yield o.supabase.saveData("request_status",t).then(l=>{var i;if(201===l.status)return o.helper.dismissLoader(),o.helper.presentToast("\u062a\u0645 \u062a\u0642\u062f\u064a\u0645 \u0637\u0644\u0628\u0643 \u0628\u0646\u062c\u0627\u062c"),void o.router.navigate([`/add-images/${null===(i=l.data)||void 0===i?void 0:i.id}/request_status`]);o.helper.dismissLoader(),o.helper.presentAlert("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645")}).catch(l=>{o.helper.dismissLoader(),o.helper.presentAlert(`\u062e\u0637\u0627 \u0641\u064a:  ${l}`),console.error("ee: ",l)})})()}createForm(){this.requestForm=this.formBuilder.group({mobile:new e.NI(null,[e.kI.required,e.kI.minLength(9),e.kI.maxLength(14)]),name:new e.NI(null,[e.kI.required,e.kI.min(12)]),description:new e.NI(null,[e.kI.required,e.kI.min(12)]),account_number:new e.NI(null,[e.kI.min(5)]),rel_with_account_owner:new e.NI(null,[e.kI.min(5)]),account_owner:new e.NI(null,[e.kI.min(5)])})}ngOnInit(){this.relationshipWithAccountHolder=!1}handleTypeChange(o){let t=o.target.value;var l;"1"===t?(this.relationshipWithAccountHolder=!1,null===(l=this.requestForm.get("rel_with_account_owner"))||void 0===l||l.setValue("\u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628",{onlySelf:!0})):"2"===t&&(this.relationshipWithAccountHolder=!0)}}return(r=s).\u0275fac=function(o){return new(o||r)(u.Y36(e.qu),u.Y36(m.F0),u.Y36(g.W),u.Y36(p.T))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-add-request"]],standalone:!0,features:[u.jDz],decls:33,vars:5,consts:[[3,"translucent"],["slot","start"],["routerLink","/content/about"],["color","light","slot","icon-only","name","help-sharp"],["slot","end"],["color","light","defaultHref","/lost-found"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],["label","\u0627\u0644\u0627\u0633\u0645","labelPlacement","floating","formControlName","name","name","name","placeholder","\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0627\u0644\u0627\u0633\u0645"],["label","\u0648\u0635\u0641 \u0627\u0644\u062d\u0627\u0644\u0629","labelPlacement","floating","formControlName","description","name","description","placeholder","(\u0627\u0634\u0631\u062d \u062d\u0627\u0644\u062a\u0643 \u0628\u0646\u0641\u0633 \u0627\u0644\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062a\u064a \u0633\u064a\u062a\u0645 \u0627\u0644\u0627\u0639\u0644\u0627\u0646 \u0639\u0646\u0647\u0627)"],["label","\u0628\u0646\u0643\u0643","labelPlacement","floating","formControlName","account_number","name","account_number","placeholder","\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628"],["label","\u0627\u0633\u0645 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628","labelPlacement","floating","formControlName","account_owner","name","account_owner","placeholder",""],["placeholder","\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u062a\u0648\u0636\u064a\u062d","label","\u0647\u0644 \u0627\u0646\u062a \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628",3,"ionChange"],["value","1"],["value","2"],[4,"ngIf"],["label","\u0627\u0644\u0647\u0627\u062a\u0641","labelPlacement","floating","formControlName","mobile","name","mobile","placeholder","\u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0644\u0644\u0627\u062a\u0635\u0627\u0644"],["expand","block","type","submit",3,"disabled"],["name","checkmark"],["label","\u0627\u0644\u0639\u0644\u0627\u0642\u0629 \u0645\u0639 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628","labelPlacement","floating","formControlName","rel_with_account_owner","name","rel_with_account_owner","value"," ","placeholder","\u0627\u0630\u0627 \u0644\u0645 \u062a\u0643\u0646 \u0627\u0646\u062a"]],template:function(o,t){1&o&&(u.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),u._UZ(4,"ion-icon",3),u.qZA()(),u.TgZ(5,"ion-title"),u._uU(6,"\u062a\u0642\u062f\u064a\u0645 \u0637\u0644\u0628"),u.qZA(),u.TgZ(7,"ion-buttons",4),u._UZ(8,"ion-back-button",5),u.qZA()()(),u.TgZ(9,"ion-content",6)(10,"form",7),u.NdJ("ngSubmit",function(){return t.sendSosRequest()}),u.TgZ(11,"ion-list")(12,"ion-item-group")(13,"ion-item"),u._UZ(14,"ion-input",8),u.qZA(),u.TgZ(15,"ion-item"),u._UZ(16,"ion-textarea",9),u.qZA(),u.TgZ(17,"ion-item"),u._UZ(18,"ion-input",10),u.qZA(),u.TgZ(19,"ion-item"),u._UZ(20,"ion-input",11),u.qZA(),u.TgZ(21,"ion-item")(22,"ion-select",12),u.NdJ("ionChange",function(i){return t.handleTypeChange(i)}),u.TgZ(23,"ion-select-option",13),u._uU(24,"\u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628"),u.qZA(),u.TgZ(25,"ion-select-option",14),u._uU(26,"\u0644\u0633\u062a \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628"),u.qZA()()(),u.YNc(27,A,2,0,"ion-item",15),u.TgZ(28,"ion-item"),u._UZ(29,"ion-input",16),u.qZA(),u.TgZ(30,"ion-button",17),u._UZ(31,"ion-icon",18),u._uU(32," \u0627\u0644\u062a\u0627\u0644\u064a "),u.qZA()()()()()),2&o&&(u.Q6J("translucent",!0),u.xp6(9),u.Q6J("fullscreen",!0),u.xp6(1),u.Q6J("formGroup",t.requestForm),u.xp6(17),u.Q6J("ngIf",t.relationshipWithAccountHolder),u.xp6(3),u.Q6J("disabled",!t.requestForm.valid))},dependencies:[n.Pc,n.oU,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Ub,n.q_,n.t9,n.n0,n.g2,n.wd,n.sr,n.QI,n.j9,n.cs,n.YI,e.UX,e._Y,e.JJ,e.JL,e.sg,e.u,_.ez,_.O5,m.rH],styles:[".error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}ion-item[_ngcontent-%COMP%]{margin-bottom:10px;background:transparent;border:1px solid var(--ion-color-secondary);--highlight-height: 0px;--highlight-color-valid: var(--ion-color-secondary);--highlight-color-focused: var(--ion-color-secondary);--highlight-color-invalid: var(--ion-color-secondary)}"]}),s})()}}]);