"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1703],{1703:(k,m,s)=>{s.r(m),s.d(m,{RequestDetailsPage:()=>Q});var g=s(5861),r=s(6814),_=s(95),a=s(1509),t=s(6689);function Z(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t._uU(4,"Cancel"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Welcome"),t.qZA(),t.TgZ(7,"ion-buttons",5)(8,"ion-button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t._uU(9,"Confirm"),t.qZA()()()(),t.TgZ(10,"ion-content",0)(11,"ion-item")(12,"ion-label",7),t._uU(13,"Enter your name"),t.qZA(),t.TgZ(14,"ion-input",8),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.name=o)}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("strong",!0),t.xp6(6),t.Q6J("ngModel",e.name)}}let q=(()=>{var n;class u{constructor(){this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",this.name=""}ngOnInit(){}cancel(){var i=this;return(0,g.Z)(function*(){yield i.modal.dismiss(null,"cancel")})()}confirm(){var i=this;return(0,g.Z)(function*(){yield i.modal.dismiss(i.name,"confirm")})()}onWillDismiss(i){"confirm"===i.detail.role&&(this.message=`Hello, ${i.detail.data}!`)}}return(n=u).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-request-modal"]],viewQuery:function(i,o){if(1&i&&t.Gf(a.ki,7),2&i){let l;t.iGM(l=t.CRH())&&(o.modal=l.first)}},standalone:!0,features:[t.jDz],decls:11,vars:1,consts:[[1,"ion-padding"],["id","open-modal","expand","block"],["trigger","open-modal",3,"willDismiss"],["slot","start"],[3,"click"],["slot","end"],[3,"strong","click"],["position","stacked"],["type","text","placeholder","Your name",3,"ngModel","ngModelChange"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Inline Modal"),t.qZA()()(),t.TgZ(4,"ion-content",0)(5,"ion-button",1),t._uU(6,"Open"),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"ion-modal",2),t.NdJ("willDismiss",function(c){return o.onWillDismiss(c)}),t.YNc(10,Z,15,2,"ng-template"),t.qZA()()),2&i&&(t.xp6(8),t.Oqu(o.message))},dependencies:[a.Pc,a.YG,a.Sm,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.wd,a.sr,a.ki,a.j9,r.ez,_.u5,_.JJ,_.On]}),u})();var f=s(6958),h=s(1434),b=s(7626);function x(n,u){if(1&n&&(t.TgZ(0,"p",25)(1,"b"),t._uU(2,"\u0627\u0644\u0639\u0644\u0627\u0642\u0629 \u0645\u0639 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(": ",null==e.data?null:e.data.rel_with_account_owner,"")}}function T(n,u){if(1&n&&(t.TgZ(0,"p",25)(1,"b"),t._uU(2,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),t.qZA(),t._uU(3),t.TgZ(4,"a",26),t._UZ(5,"ion-icon",27),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(": ",null==e.data?null:e.data.phone," "),t.xp6(1),t.MGl("href","tel://",null==e.data?null:e.data.mobile,"",t.LSH)}}function A(n,u){1&n&&(t.TgZ(0,"ion-badge",28),t._uU(1,"\u062c\u062f\u064a\u062f"),t.qZA())}function U(n,u){1&n&&(t.TgZ(0,"ion-badge",29),t._uU(1,"\u0645\u0633\u0648\u062f\u0629"),t.qZA())}function I(n,u){1&n&&(t.TgZ(0,"ion-badge",30),t._uU(1,"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"),t.qZA())}function D(n,u){1&n&&(t.TgZ(0,"ion-badge",31),t._uU(1,"\u0645\u0642\u0628\u0648\u0644\u0629"),t.qZA())}function v(n,u){1&n&&(t.TgZ(0,"ion-badge",32),t._uU(1,"\u0645\u0646\u062a\u0647\u064a\u0629"),t.qZA())}function w(n,u){1&n&&(t.TgZ(0,"ion-badge",33),t._uU(1,"\u0645\u0644\u063a\u064a\u0629"),t.qZA())}function J(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"ion-col",34)(1,"ion-img",35),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openImage(l))}),t.qZA()()}if(2&n){const e=u.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("src",e)("alt",null==i.data?null:i.data.name)}}function M(n,u){if(1&n&&(t.TgZ(0,"ion-item")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&n){const e=u.$implicit;t.xp6(2),t.hij("\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0628\u0631\u0639: ",null==e?null:e.amount,""),t.xp6(2),t.hij("\u0628\u062a\u0631\u0627\u064a\u062e: ",t.xi3(5,2,null==e?null:e.created_at,"short"),"")}}function R(n,u){if(1&n&&(t.TgZ(0,"ion-card")(1,"ion-card-title"),t._uU(2,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u0628\u0631\u0639\u0627\u062a"),t.qZA(),t.TgZ(3,"ion-list"),t.YNc(4,M,6,5,"ion-item",36),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",null==e.data?null:e.data.benefactor)}}function C(n,u){if(1&n&&(t.TgZ(0,"ion-card",11)(1,"ion-item")(2,"ion-avatar",2),t._UZ(3,"img",12),t.qZA(),t.TgZ(4,"ion-label")(5,"ion-card-title"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"date"),t.qZA()()(),t._UZ(10,"img",13)(11,"ion-card-header"),t.TgZ(12,"ion-card-content")(13,"p")(14,"b"),t._uU(15,"\u0627\u0644\u0648\u0635\u0641:"),t.qZA()(),t.TgZ(16,"p")(17,"b"),t._uU(18),t.qZA()(),t.TgZ(19,"p")(20,"b",14),t._uU(21,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641:"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"p")(24,"b"),t._uU(25,"\u0631\u0642\u0645 \u062d\u0633\u0627\u0628:"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"p")(28,"b"),t._uU(29,"\u0627\u0633\u0645 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628:"),t.qZA(),t._uU(30),t.qZA(),t.YNc(31,x,4,1,"p",15),t.YNc(32,T,6,2,"p",15),t.TgZ(33,"ion-item"),t.YNc(34,A,2,0,"ion-badge",16),t.YNc(35,U,2,0,"ion-badge",17),t.YNc(36,I,2,0,"ion-badge",18),t.YNc(37,D,2,0,"ion-badge",19),t.YNc(38,v,2,0,"ion-badge",20),t.YNc(39,w,2,0,"ion-badge",21),t.TgZ(40,"ion-label"),t._uU(41,"\u0627\u0644\u062d\u0627\u0644\u0629:"),t.qZA()()(),t.TgZ(42,"ion-card")(43,"ion-card-content",22)(44,"ion-label"),t._uU(45,"\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062a"),t.qZA(),t.TgZ(46,"ion-grid",23)(47,"ion-row"),t.YNc(48,J,2,2,"ion-col",24),t.qZA()()()(),t.YNc(49,R,5,1,"ion-card",9),t.qZA()),2&n){const e=t.oxw();t.xp6(6),t.hij("\u0627\u0644\u0627\u0633\u0645: ",null==e.data?null:e.data.name,""),t.xp6(2),t.Oqu(t.xi3(9,18,null==e.data?null:e.data.created_at,"short")),t.xp6(2),t.Q6J("src",e.imageList[0],t.LSH)("alt",null==e.data?null:e.data.name),t.xp6(8),t.Oqu(null==e.data?null:e.data.description),t.xp6(4),t.hij(" ",null==e.data?null:e.data.mobile," "),t.xp6(4),t.Oqu(null==e.data?null:e.data.account_number),t.xp6(4),t.Oqu(null==e.data?null:e.data.account_owner),t.xp6(1),t.Q6J("ngIf",(null==e.data||null==e.data.rel_with_account_owner?null:e.data.rel_with_account_owner.length)>=5),t.xp6(1),t.Q6J("ngIf",null==e.data?null:e.data.phone),t.xp6(2),t.Q6J("ngIf",1===(null==e.data?null:e.data.status)),t.xp6(1),t.Q6J("ngIf",2===(null==e.data?null:e.data.status)),t.xp6(1),t.Q6J("ngIf",3===(null==e.data?null:e.data.status)),t.xp6(1),t.Q6J("ngIf",4===(null==e.data?null:e.data.status)),t.xp6(1),t.Q6J("ngIf",5===(null==e.data?null:e.data.status)),t.xp6(1),t.Q6J("ngIf",6===(null==e.data?null:e.data.status)),t.xp6(9),t.Q6J("ngForOf",e.imageList),t.xp6(1),t.Q6J("ngIf",null==e.data?null:e.data.benefactor)}}function y(n,u){1&n&&(t.TgZ(0,"div")(1,"ion-list")(2,"ion-item",37)(3,"ion-label")(4,"h3"),t._UZ(5,"ion-skeleton-text",38),t.qZA(),t.TgZ(6,"p"),t._UZ(7,"ion-skeleton-text",39),t.qZA(),t.TgZ(8,"p"),t._UZ(9,"ion-skeleton-text",40),t.qZA()(),t.TgZ(10,"ion-avatar",2),t._UZ(11,"ion-skeleton-text",41),t.qZA()()()())}function N(n,u){1&n&&t._UZ(0,"app-request-modal")}function P(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"ion-fab",42)(1,"ion-fab-button",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openModel())}),t._UZ(2,"ion-icon",44),t.qZA(),t.TgZ(3,"ion-fab-list",45)(4,"ion-fab-button"),t._UZ(5,"ion-icon",46),t.qZA(),t.TgZ(6,"ion-fab-button"),t._UZ(7,"ion-icon",47),t.qZA(),t.TgZ(8,"ion-fab-button"),t._UZ(9,"ion-icon",48),t.qZA()()()}}let Q=(()=>{var n;class u{constructor(i,o,l,c){this.router=i,this.route=o,this.helper=l,this.sup=c,this.showModal=!1,this.open=open}ngOnInit(){this.route.paramMap.subscribe(()=>{var i;let o=null===(i=this.router.getCurrentNavigation())||void 0===i?void 0:i.extras;if(o.id){this.data=o;const c=JSON.parse(this.data.images).filter(d=>/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/.test(d));this.imageList=c.map(d=>`https://iogenwxvdivtmnlnyrgs.supabase.co/storage/v1/object/public/bok/${d}`)}else this.requestId=this.route.snapshot.paramMap.get("id"),this.getDetails(this.requestId)}),this.isAdmin=this.route.snapshot.paramMap.get("role")}getDetails(i){var o=this;return(0,g.Z)(function*(){yield o.sup.getDataById("request_status",i,"*, benefactor(*)").then(l=>{if(200===l.status){o.data=l.data;const d=JSON.parse(o.data.images).filter(p=>/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/.test(p));o.imageList=d.map(p=>`https://iogenwxvdivtmnlnyrgs.supabase.co/storage/v1/object/public/bok/${p}`)}else o.helper.presentAlert("error")})})()}getBenefactor(){this.sup.getDataById("benefactor",this.requestId).then(i=>{})}openImage(i){return window.open(i,"_blank")}openModel(){this.showModal=!0}}return(n=u).\u0275fac=function(i){return new(i||n)(t.Y36(f.F0),t.Y36(f.gz),t.Y36(h.W),t.Y36(b.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-request-details"]],standalone:!0,features:[t.jDz],decls:13,vars:7,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","light"],[1,"ion-text-center"],["slot","end"],["color","light","defaultHref","/tabs/requests"],[3,"fullscreen"],["color","light","class","animate__animated animate__backInLeft animate__delay-.2s",4,"ngIf"],[4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],["color","light",1,"animate__animated","animate__backInLeft","animate__delay-.2s"],["alt","lost icon","src","/assets/images/person.jpg"],[3,"src","alt"],[1,"phone"],["class","label-siz",4,"ngIf"],["color","secondary","slot","end",4,"ngIf"],["color","warning","slot","end",4,"ngIf"],["color","primary","slot","end",4,"ngIf"],["color","primary-tint","slot","end",4,"ngIf"],["color","success","slot","end",4,"ngIf"],["color","danger","slot","end",4,"ngIf"],[1,"animate__animated","animate__backInLeft","animate__delay-.1s"],["fixed",""],["size","6",4,"ngFor","ngForOf"],[1,"label-siz"],["target","_blank",3,"href"],["name","call"],["color","secondary","slot","end"],["color","warning","slot","end"],["color","primary","slot","end"],["color","primary-tint","slot","end"],["color","success","slot","end"],["color","danger","slot","end"],["size","6"],[3,"src","alt","click"],[4,"ngFor","ngForOf"],[1,"item"],["animated","true",2,"width","50%"],["animated","true",2,"width","80%"],["animated","true",2,"width","60%"],["animated","true"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","chevron-up-circle"],["side","top"],["name","document"],["name","color-palette"],["name","globe"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-menu-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",5),t._UZ(7,"ion-back-button",6),t.qZA()()(),t.TgZ(8,"ion-content",7),t.YNc(9,C,50,21,"ion-card",8),t.YNc(10,y,12,0,"div",9),t.YNc(11,N,1,0,"app-request-modal",9),t.YNc(12,P,10,0,"ion-fab",10),t.qZA()),2&i&&(t.Q6J("translucent",!0),t.xp6(5),t.hij(" \u062d\u0627\u0644\u0629 \u0631\u0642\u0645: ",null==o.data?null:o.data.id,""),t.xp6(3),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.name),t.xp6(1),t.Q6J("ngIf",!o.data&&0===o.data||0===(null==o.data||null==o.data.name?null:o.data.name.length)),t.xp6(1),t.Q6J("ngIf",o.showModal),t.xp6(1),t.Q6J("ngIf","admin"===o.isAdmin))},dependencies:[a.Pc,a.BJ,a.oU,a.yp,a.Sm,a.PM,a.FN,a.Zi,a.Dq,a.wI,a.W2,a.IJ,a.W4,a.zq,a.jY,a.Gu,a.gu,a.Xz,a.Ie,a.Q$,a.q_,a.fG,a.Nd,a.CK,a.wd,a.sr,a.cs,r.ez,r.sg,r.O5,r.uU,_.u5,q],styles:[".phone[_ngcontent-%COMP%]{font-weight:700}"]}),u})()}}]);