"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9661],{9661:(A,d,a)=>{a.r(d),a.d(d,{RequestsPage:()=>Z});var l=a(5861),g=a(6958),i=a(1509),_=a(6814),e=a(6689),h=a(1434),p=a(7626);function f(s,c){if(1&s){const r=e.EpF();e.TgZ(0,"ion-card",13),e.NdJ("click",function(){const u=e.CHM(r).$implicit,o=e.oxw();return e.KtG(o.openDetails(u))}),e.TgZ(1,"ion-card-header")(2,"ion-label"),e._uU(3),e.qZA(),e.TgZ(4,"ion-label"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"ion-card-content")(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.ALo(12,"slice"),e.qZA()(),e.TgZ(13,"ion-button",14),e.NdJ("click",function(){const u=e.CHM(r).$implicit,o=e.oxw();return e.KtG(o.openDetails(u))}),e._uU(14," \u062a\u0641\u0627\u0635\u064a\u0644 "),e.qZA()()}if(2&s){const r=c.$implicit;e.xp6(3),e.hij("\u062d\u0627\u0644\u0629#: ",r.id,""),e.xp6(2),e.hij("\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",e.xi3(6,4,r.created_at,"short"),""),e.xp6(4),e.hij("\u0627\u0644\u0627\u0633\u0645: ",r.name,""),e.xp6(2),e.hij("\u0648\u0635\u0641 \u0627\u0644\u062d\u0627\u0644\u0629: ",e.Dn7(12,7,r.description,0,100),"...")}}function m(s,c){1&s&&(e.TgZ(0,"div")(1,"ion-list")(2,"ion-item",15)(3,"ion-label")(4,"h3"),e._UZ(5,"ion-skeleton-text",16),e.qZA(),e.TgZ(6,"p"),e._UZ(7,"ion-skeleton-text",17),e.qZA(),e.TgZ(8,"p"),e._UZ(9,"ion-skeleton-text",18),e.qZA()(),e.TgZ(10,"ion-avatar",19),e._UZ(11,"ion-skeleton-text",20),e.qZA()()()())}let Z=(()=>{var s;class c{constructor(n,t,u,o){this.router=n,this.helper=t,this.supabase=u,this.nav=o,this.page=0,this.userInfo=JSON.parse(localStorage.getItem("user"))}ngOnInit(){var n=this;return(0,l.Z)(function*(){n.supabase.getBenefactor().then(t=>{200!==t.status?n.helper.presentToast("no Data","primary"):n.request=t.data}).catch(t=>{console.log("error: ",t),n.helper.presentToast(`Error: ${t}`,"danger")})})()}openDetails(n){var t=this;return(0,l.Z)(function*(){var u;"admin"!==(null===(u=t.userInfo)||void 0===u?void 0:u.role)?yield t.nav.navigateForward(`/request-details/${n.id}/user`,n):yield t.nav.navigateForward(`/request-details/${n.id}/admin`,n)})()}openDetailsAdmin(n){var t=this;return(0,l.Z)(function*(){yield t.nav.navigateForward(`/request-details/${n.id}/admin`,n)})()}onIonInfinite(n){var t=this;return(0,l.Z)(function*(){yield t.helper.startLoad(),t.page=t.page+1,setTimeout(()=>{t.helper.dismissLoader(),n.target.complete()},1e3)})()}doRefresh(n){setTimeout(()=>{this.page=1,this.ngOnInit(),n.target.complete()},2e3)}searchName(n){var t=this;return(0,l.Z)(function*(){let u=yield n.detail.value;u.length>0?t.supabase.search("request_status",u,"*,benefactor(*)","name_mobile_id").then(o=>{t.request=o.data}).catch(o=>{console.log("err: ",o)}):t.ngOnInit()})()}}return(s=c).\u0275fac=function(n){return new(n||s)(e.Y36(g.F0),e.Y36(h.W),e.Y36(p.T),e.Y36(i.SH))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-requests"]],standalone:!0,features:[e.jDz],decls:18,vars:3,consts:[[3,"translucent"],["slot","end"],["routerLink","/add-request"],["color","light","slot","icon-only","name","add-circle-sharp"],["routerLink","/add-images/1/request_status"],["color","light","slot","icon-only","name","camera"],["placeholder","\u0627\u0628\u062d\u062b \u0628\u0640(\u0631\u0642\u0645 \u0627\u0644\u062d\u0627\u0644\u0629, \u0627\u0644\u0647\u0627\u062a\u0641 , \u0627\u0644\u0627\u0633\u0645)",3,"ionChange"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down-circle-outline","pullingText","\u0627\u0633\u062d\u0628 \u0644\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u063a\u062d\u0629","refreshingSpinner","circles","refreshingText","\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u062d\u062a\u0648\u064a",2,"background-color","#B9DCFF","margin-top","2px","padding-bottom","23px"],[1,"animate__animated","animate__backInRight","animate__delay-.4s"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ionInfinite"],[3,"click"],["expand","block",3,"click"],[1,"item"],["animated","true",2,"width","50%"],["animated","true",2,"width","80%"],["animated","true",2,"width","60%"],["slot","start"],["animated","true"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"\u0627\u0644\u062d\u0627\u0644\u0627\u062a"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-button",2),e._UZ(6,"ion-icon",3),e.qZA(),e.TgZ(7,"ion-button",4),e._UZ(8,"ion-icon",5),e.qZA()()(),e.TgZ(9,"ion-searchbar",6),e.NdJ("ionChange",function(o){return t.searchName(o)}),e.qZA()(),e.TgZ(10,"ion-content")(11,"ion-refresher",7),e.NdJ("ionRefresh",function(o){return t.doRefresh(o)}),e._UZ(12,"ion-refresher-content",8),e.qZA(),e.TgZ(13,"ion-list",9),e.YNc(14,f,15,11,"ion-card",10),e.qZA(),e.YNc(15,m,12,0,"div",11),e.TgZ(16,"ion-infinite-scroll",12),e.NdJ("ionInfinite",function(o){return t.onIonInfinite(o)}),e._UZ(17,"ion-infinite-scroll-content"),e.qZA()()),2&n&&(e.Q6J("translucent",!0),e.xp6(14),e.Q6J("ngForOf",t.request),e.xp6(1),e.Q6J("ngIf",!t.request))},dependencies:[i.Pc,i.BJ,i.YG,i.Sm,i.PM,i.FN,i.Zi,i.W2,i.Gu,i.gu,i.ju,i.MB,i.Ie,i.Q$,i.q_,i.nJ,i.Wo,i.VI,i.CK,i.wd,i.sr,i.j9,i.YI,_.ez,_.sg,_.O5,_.OU,_.uU,g.rH],styles:["p[_ngcontent-%COMP%]{color:#000;font-size:medium}.do-text[_ngcontent-%COMP%]{font-size:12px}"]}),c})()}}]);